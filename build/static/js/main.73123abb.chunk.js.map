{"version":3,"sources":["../node_modules/truffle-contract/node_modules/web3-eth-accounts/src sync","../node_modules/truffle-interface-adapter/node_modules/web3-eth-accounts/src sync","infoModal.js","home.js","readBookModal.js","library.js","homepage.js","App.js","pdf.js","Alpha.js","index.js","helper.js","modal.js","../node_modules/pdfjs-dist/build sync","utils/getWeb3.js","ipfsHelper.js","payment.js","addBookModal.js","ipfs.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Example","props","useState","show","setShow","Button","className","variant","onClick","Modal","onHide","Header","closeButton","Title","data","name","Body","email","verifier","address","Footer","home","Container","Row","style","padding","api","map","item","Col","Card","width","Img","src","image","By","Text","ReadBook","Library","ipfs","setipfs","a","console","log","userAbi","User","abi","userContractAddress","networks","userInstance","web3Obj","web3","eth","Contract","getAccounts","then","accounts","methods","get","call","from","result","useEffect","userInitialization","index","url","window","open","Read","Homepage","getUserInfo","torus","r","logout","logout1","location","reload","bind","getChainBookDataAzure","state","chainBookDataAzure","this","axios","response","catch","error","to","library","exact","path","component","React","Component","tokenAbi","require","App","account","balance","selectedVerifier","placeholder","verifierId","buildEnv","setStateInfo","setState","getBalance","enableTorus","preventDefault","initialize","changeProvider","setProvider","host","userInfo","cleanUp","sessionStorage","setItem","signMessage","currentProvider","send","method","params","err","signTypedData_v1","type","value","signTypedData_v3","JSON","stringify","types","EIP712Domain","Person","Mail","primaryType","domain","version","chainId","verifyingContract","message","wallet","contents","text","document","querySelector","innerHTML","signTypedData_v4","Group","wallets","sendEth","sendTransaction","utils","toWei","sendDai","finally","localWeb3","instance","Math","floor","parseFloat","toString","transfer","createPaymentTx","initiateTopup","selectedCurrency","fiatValue","selectedCryptoCurrency","getPublicAddress","isExtended","onSelectedVerifierChanged","event","target","isTorus","getItem","onSubmit","homepage","pdf","onDocumentLoadSuccess","numPages","goToPrevPage","pageNumber","goToNextPage","urlhash","pdfjs","GlobalWorkerOptions","workerSrc","search","replace","RegExp","encodeURIComponent","loadBlockchain","history","replaceState","title","StyleSheet","create","page","alignItems","justifyContent","textAlign","disabled","display","file","onLoadSuccess","NoMatch","Alpha","ReactDOM","render","getElementById","Web3","setweb3","provider","web3Inst","Torus","init","network","login","secondShow","setSecondShow","handleClose","handleSecondClose","setTimeout","handleSecondShow","price","bookId","Payment","getAuthorAddress","getWeb3","Promise","reject","addEventListener","results","providers","HttpProvider","port","protocol","payment","bookid","chainBooksInitialization","chainBookInstance","getAuthor","makePayment","toFixed","shareIpfs","getIpfs","saveIpfsToUser","set","alert","toaccount","receipt","getStatus","getTransactionReceipt","Initialize","chainBooksAbi","Chainbooks","chainBooksContractAddress","bookName","setBookName","authorName","setAuthorName","buffer","setBuffer","setChainBookInstance","setGeneratedHash","ipfsHelper","files","add","hash","getBookId","showLoading","savetoChainBook","authorAddress","randomAddress","addBook","savetoAzure","post","onChange","reader","FileReader","readAsArrayBuffer","onloadend","Buffer","book","author","Ipfs","ipfsHash","captureFile","UsergetContract","UserContract","simpleStorage","contract","SimpleStorageContract","deployed","simpleStorageInstance","contractAddress","href","alt"],"mappings":"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","file":"static/js/main.73123abb.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1941;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1987;","import Modal from 'react-bootstrap/Modal';\r\nimport React, {useState} from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport './css/buttonFix.css';\r\n\r\n\r\nfunction Example(props) {\r\n    const [show, setShow] = useState(false);\r\n\r\n    const handleClose = () => {\r\n        setShow(false);\r\n    }\r\n\r\n    \r\n    const handleYes = () => {\r\n        setShow(false);\r\n    } \r\n\r\n    const handleShow = () => {\r\n        setShow(true)\r\n    };\r\n\r\n\r\n  \r\n    return (\r\n      <>\r\n        <Button className=\"button\" variant=\"info\"  onClick={handleShow}>\r\n        Info\r\n        </Button>\r\n        {/* {props.data.name} */}\r\n        <Modal show={show} onHide={handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title> {props.data.name} </Modal.Title>\r\n          </Modal.Header>\r\n            <Modal.Body> \r\n\r\n                Email : {props.data.email}  <br/>\r\n                Varifier : {props.data.verifier} <br/>\r\n                Address : {props.data.address} <br/>\r\n\r\n            </Modal.Body>\r\n          <Modal.Footer>\r\n            {/* <Button className=\"button\" variant=\"secondary\" onClick={handleClose}>\r\n              Cancel\r\n            </Button> */}\r\n            <Button className=\"button\"  variant=\"primary\" onClick={handleYes}>\r\n              OK!\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        </>\r\n    );\r\n  }\r\n  \r\n  export default Example;","import React,  { useState, useEffect } from 'react';\r\nimport axios from \"axios\";\r\nimport Row from 'react-bootstrap/Row';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Col from 'react-bootstrap/Col';\r\nimport api from './randomData2.json';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Modal from './modal';\r\n\r\nfunction home() {\r\n\r\n   \r\n    return (\r\n        <Container >\r\n            \r\n            <Row className=\"border border-dark\" style={{padding: \"20px\"}}>\r\n                {\r\n                    api.map((item) => {\r\n                        return <Col>\r\n                            <Card style={{ width: '18rem' }}>\r\n                                <Card.Img variant=\"top\" src={item.image} />\r\n                                <Card.Body>\r\n                                    <Card.Title>{item.name}</Card.Title>\r\n                                     <label>By: <b>{item.By}</b></label> <br/>\r\n                                    <Card.Text>\r\n                                        Some quick example text to build on the card title and make up the bulk of\r\n                                        the card's content.\r\n                                        </Card.Text>\r\n                                    {/*  <Button className=\"button\" variant=\"primary\">Buy for {item.price} </Button> */}\r\n                                    <Modal data={item} />\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </Col>\r\n                    })\r\n                }\r\n            </Row>\r\n        </Container>\r\n        \r\n    )\r\n}\r\n\r\n\r\nexport default home;","import Modal from 'react-bootstrap/Modal';\r\nimport React, {useState} from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport './css/buttonFix.css';\r\n\r\n\r\n\r\nfunction ReadBook(props) {\r\n    const [show, setShow] = useState(false);\r\n  \r\n    const handleClose = () => {\r\n        setShow(false);\r\n        console.log(\"It has closed\");\r\n    }\r\n\r\n    const handleYes = () => {\r\n        setShow(false);\r\n    } \r\n\r\n    const handleShow = () => setShow(true);\r\n\r\n\r\n  \r\n    return (\r\n      <>\r\n        <Button className=\"button\" variant=\"primary\" onClick={handleShow}>\r\n        Read\r\n        </Button>\r\n        {/* {props.data.name} */}\r\n        <Modal show={show} onHide={handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Read Book</Modal.Title>\r\n          </Modal.Header>\r\n    <Modal.Body>Yes, I want to buy this book written by  for {props.data}  &#x20B9;</Modal.Body>\r\n          <Modal.Footer>\r\n            <Button className=\"button\" variant=\"secondary\" onClick={handleClose}>\r\n              Cancel\r\n            </Button>\r\n            <Button className=\"button\"  variant=\"primary\" onClick={handleYes}>\r\n              Yes!\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        </>\r\n    );\r\n  }\r\n  \r\n  export default ReadBook;","\r\nimport React, { useState, useEffect } from \"react\";\r\nimport api from './randomData.json';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Modal from './modal';\r\nimport Card from 'react-bootstrap/Card';\r\nimport './css/buttonFix.css';\r\nimport User from './contracts/User.json';\r\nimport web3Obj from './helper'\r\nimport ReadBookModal from './readBookModal';\r\n\r\n\r\n\r\n\r\nconst Library = () => {\r\n  const [ipfs, setipfs] = useState([]);\r\n//   const [planets, setPlanets] = useState({});\r\n\r\n  useEffect(() => {\r\n    userInitialization();\r\n  },[]);\r\n\r\n  async function userInitialization() {\r\n    console.log(\"Inside userInitialization!\");\r\n    const userAbi = User.abi;\r\n    const userContractAddress = User.networks[3].address;\r\n    const userInstance = new web3Obj.web3.eth.Contract(userAbi, userContractAddress);\r\n    await web3Obj.web3.eth.getAccounts().then(async (accounts) => {\r\n        await userInstance.methods.get().call({ from: accounts[0] })\r\n            .then((result) => {\r\n                console.log(\"IPFS has been received from User!\");\r\n                console.log(result);\r\n                setipfs(result);\r\n            })\r\n        })\r\n}\r\n\r\n    function Read(item){\r\n        console.log(\"Read book executing!\" + item);\r\n        var url = \"http://localhost:3000/pdf?hash=\"+item;\r\n        window.open(url, \"_blank\")\r\n    //    window.location.href = url;\r\n    }\r\n\r\n\r\n\r\n    // userInitialization();\r\n    return (\r\n        <Container >\r\n            \r\n            <Row className=\"border border-dark\" style={{padding: \"20px\"}}>\r\n                {\r\n                    ipfs.map((item, index) => {\r\n                        return <Col>\r\n                            <Card style={{ width: '18rem' }} >\r\n                                <Card.Img variant=\"top\" src=\"http://placekitten.com/g/320/500\"/>\r\n                                <Card.Body>\r\n                                    \r\n                    <Card.Title> Book Name {index} </Card.Title>\r\n                                    <Card.Text>\r\n                                        library quick example text to build on the card title and make up the bulk of\r\n                                        the card's content.\r\n                                            </Card.Text>\r\n                                    {/*  <Button className=\"button\" variant=\"primary\">Buy for {item.price} </Button> */}\r\n                                    {/* <ReadBookModal data={item} />  */}\r\n                                    <button onClick={() => Read(item)}> Read</button>\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </Col>\r\n                    })\r\n                }\r\n            </Row>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Library;","\nimport React, { useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Card from 'react-bootstrap/Card';\nimport './css/buttonFix.css';\nimport Modal from './modal';\nimport InfoModal from './infoModal';\nimport web3Obj from './helper'\nimport api from './randomData2.json';\nimport home from './home';\nimport {logout1} from './App';\nimport axios from \"axios\";\nimport { BrowserRouter as Router, Route, Link, Switch, Redirect } from 'react-router-dom';\nimport library from './library';\nimport AddBookModal from './addBookModal';\n\nclass Homepage extends React.Component {\n    \n\n    constructor(props) {\n        super(props)\n        this.getUserInfo = this.getUserInfo.bind(this);\n        this.getChainBookDataAzure = this.getChainBookDataAzure.bind(this);\n        console.log(api);\n        \n        this.state = {\n            chainBookDataAzure: [],\n          };\n    }\n\n    componentDidMount() {\n         this.getChainBookDataAzure();\n    }\n\n\n    getChainBookDataAzure() {\n        let currentComponent = this;\n        axios.get('http://localhost:4000/api/getChainData')\n          .then(function (response) {\n            console.log(response.data);\n            // currentComponent.setData();\n          })\n          .catch(function (error) {\n            console.log(error);\n          });\n    }\n\n   \n\n    getUserInfo = async () => {\n        this.data = {};\n        console.log(\"Inside getInfo!\");\n        await web3Obj.torus.getUserInfo()\n            .then(async (r) => {\n                console.log(\"Inside Success of getInfo!\");\n                this.data.name = r.name;\n                this.data.email = r.email;\n                this.data.verifier = r.verifier;\n                await web3Obj.web3.eth.getAccounts().then(async (accounts) => {\n                    this.data.address = accounts[0];\n                })\n                console.log(this.data);\n            })\n    }\n\n    logout = () => {\n        // web3Obj.torus.cleanUp().then(() => {\n        //     this.setState({ account: '', balance: 0 })\n        //     sessionStorage.setItem('pageUsingTorus', false)\n        // })\n        logout1.logout();\n        window.location.reload('http://localhost:3000/'); \n    }\n\n    render() {\n        this.getUserInfo();\n        return (\n            <div>\n                { this.state && this.state.chainBookDataAzure &&\n \n                <Router>\n                    <Container style={{padding: \"0px 20px\"}}>\n\n                        <Row className=\"border border-dark\">\n                            {/* <Col><Button onClick={this.getUserInfo} variant=\"info\" className=\"button align-top\">Info</Button>{' '}</Col> */}\n                            <Col><InfoModal data={this.data} /></Col>\n                            <Col>\n                            {/* <Form inline>\n                                <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\n                                <Button className=\"button\" variant=\"outline-success\">Search</Button>\n                            </Form> */}\n                            {/* <Button onClick={''} className=\"button\" variant=\"info\">Add Book</Button> */}\n                            <AddBookModal />\n                            </Col>\n                            <Redirect to='/' />\n                            <Link to='/'><Col><Button onClick={home} className=\"button\" variant=\"success\">Home</Button>{''}</Col></Link>\n                            <Link to='/library'><Col><Button onClick={this.library} className=\"button\" variant=\"success\">Library</Button>{''}</Col></Link>\n                            <Col><Button onClick={this.logout} className=\"button\" variant=\"info\">Logout</Button>{' '}</Col>\n                        </Row>\n\n                    </Container>\n                    {/* <button onClick={this.UserList}>fetch</button> */}\n\n                    <Switch>\n                        <Route exact path='/' component={home} />\n                        <Route path='/library' component={library} />\n                    </Switch>\n                </Router>\n                }\n            </div>\n        );\n    }\n}\n\nexport default Homepage;\n","import React from 'react'\nimport web3Obj from './helper'\nimport homepage from './homepage';\nimport {BrowserRouter as Router, Route, Link, Switch, Redirect} from 'react-router-dom';\nimport './css/appButton.css';\n\nconst tokenAbi = require('human-standard-token-abi')\n\nclass App extends React.Component {\n  state = {\n    account: null,\n    balance: '',\n    selectedVerifier: 'google',\n    placeholder: 'Enter google email',\n    verifierId: null,\n    buildEnv: 'testing'\n  }\n\n  componentDidMount() {\n    const isTorus = sessionStorage.getItem('pageUsingTorus')\n    if (isTorus) {\n      web3Obj.initialize(isTorus).then(() => {\n        this.setStateInfo()\n      })\n    }\n  }\n\n  setStateInfo = () => {\n    web3Obj.web3.eth.getAccounts().then(accounts => {\n      this.setState({ account: accounts[0] })\n      web3Obj.web3.eth.getBalance(accounts[0]).then(balance => {\n        this.setState({ balance: balance })\n      })\n    })\n  }\n\n  enableTorus = async e => {\n    const { buildEnv } = this.state\n    e.preventDefault()\n    try {\n      await web3Obj.initialize(buildEnv)\n      this.setStateInfo()\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  changeProvider = async () => {\n    await web3Obj.torus.setProvider({ host: 'ropsten' })\n    this.console('finished changing provider')\n  }\n\n  getUserInfo = async () => {\n    const userInfo = await web3Obj.torus.getUserInfo()\n    this.console(userInfo)\n  }\n\n  logout = () => {\n    web3Obj.torus.cleanUp().then(() => {\n      this.setState({ account: '', balance: 0 })\n      sessionStorage.setItem('pageUsingTorus', false)\n    })\n  }\n\n  signMessage = () => {\n    // hex message\n    const message = '0x47173285a8d7341e5e972fc677286384f802f8ef42a5ec5f03bbfa254cb01fad'\n    web3Obj.torus.web3.currentProvider.send(\n      {\n        method: 'eth_sign',\n        params: [this.state.account, message],\n        from: this.state.account\n      },\n      (err, result) => {\n        if (err) {\n          return console.error(err)\n        }\n        this.console('sign message => true \\n', result)\n      }\n    )\n  }\n\n  signTypedData_v1 = () => {\n    const typedData = [\n      {\n        type: 'string',\n        name: 'message',\n        value: 'Hi, Alice!'\n      },\n      {\n        type: 'uint8',\n        name: 'value',\n        value: 10\n      }\n    ]\n    web3Obj.torus.web3.currentProvider.send(\n      {\n        method: 'eth_signTypedData',\n        params: [typedData, this.state.account],\n        from: this.state.account\n      },\n      (err, result) => {\n        if (err) {\n          return console.error(err)\n        }\n        this.console('sign typed message v1 => true \\n', result)\n      }\n    )\n  }\n\n  signTypedData_v3 = () => {\n    const typedData = {\n      types: {\n        EIP712Domain: [\n          { name: 'name', type: 'string' },\n          { name: 'version', type: 'string' },\n          { name: 'chainId', type: 'uint256' },\n          { name: 'verifyingContract', type: 'address' }\n        ],\n        Person: [\n          { name: 'name', type: 'string' },\n          { name: 'wallet', type: 'address' }\n        ],\n        Mail: [\n          { name: 'from', type: 'Person' },\n          { name: 'to', type: 'Person' },\n          { name: 'contents', type: 'string' }\n        ]\n      },\n      primaryType: 'Mail',\n      domain: {\n        name: 'Ether Mail',\n        version: '1',\n        chainId: 4,\n        verifyingContract: '0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC'\n      },\n      message: {\n        from: {\n          name: 'Cow',\n          wallet: '0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826'\n        },\n        to: {\n          name: 'Bob',\n          wallet: '0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB'\n        },\n        contents: 'Hello, Bob!'\n      }\n    }\n    web3Obj.torus.web3.currentProvider.send(\n      {\n        method: 'eth_signTypedData_v3',\n        params: [this.state.account, JSON.stringify(typedData)],\n        from: this.state.account\n      },\n      (err, result) => {\n        if (err) {\n          return console.error(err)\n        }\n        this.console('sign typed message v3 => true \\n', result)\n      }\n    )\n  }\n\n  console = text => {\n    document.querySelector('#console>p').innerHTML = typeof text === 'object' ? JSON.stringify(text) : text\n  }\n\n  signTypedData_v4 = () => {\n    const typedData = {\n      types: {\n        EIP712Domain: [\n          { name: 'name', type: 'string' },\n          { name: 'version', type: 'string' },\n          { name: 'chainId', type: 'uint256' },\n          { name: 'verifyingContract', type: 'address' }\n        ],\n        Person: [\n          { name: 'name', type: 'string' },\n          { name: 'wallets', type: 'address[]' }\n        ],\n        Mail: [\n          { name: 'from', type: 'Person' },\n          { name: 'to', type: 'Person[]' },\n          { name: 'contents', type: 'string' }\n        ],\n        Group: [\n          { name: 'name', type: 'string' },\n          { name: 'members', type: 'Person[]' }\n        ]\n      },\n      domain: {\n        name: 'Ether Mail',\n        version: '1',\n        chainId: 4,\n        verifyingContract: '0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC'\n      },\n      primaryType: 'Mail',\n      message: {\n        from: {\n          name: 'Cow',\n          wallets: ['0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826', '0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF']\n        },\n        to: [\n          {\n            name: 'Bob',\n            wallets: [\n              '0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB',\n              '0xB0BdaBea57B0BDABeA57b0bdABEA57b0BDabEa57',\n              '0xB0B0b0b0b0b0B000000000000000000000000000'\n            ]\n          }\n        ],\n        contents: 'Hello, Bob!'\n      }\n    }\n    web3Obj.torus.web3.currentProvider.send(\n      {\n        method: 'eth_signTypedData_v4',\n        params: [this.state.account, JSON.stringify(typedData)],\n        from: this.state.account\n      },\n      (err, result) => {\n        if (err) {\n          return console.error(err)\n        }\n        this.console('sign typed message v4 => true \\n', result)\n      }\n    )\n  }\n\n  sendEth = () => {\n    const { account } = this.state\n    web3Obj.web3.eth.sendTransaction({ from: account, to: '0xadD2292217dA6B0D93c3b204De770842bDF77198', value: web3Obj.web3.utils.toWei('0.01') })\n  }\n\n  sendDai = () => {\n    web3Obj.torus.setProvider({ host: 'mainnet' }).finally(async () => {\n      const localWeb3 = web3Obj.web3\n      const instance = new localWeb3.eth.Contract(tokenAbi, '0x6b175474e89094c44da98b954eedeac495271d0f')\n      const value = Math.floor(parseFloat(0.01) * 10 ** parseFloat(18)).toString()\n      const result = await instance.methods.transfer(this.state.account, value).send({\n        from: this.state.account\n      })\n      this.console(result)\n    })\n  }\n\n  createPaymentTx = () => {\n    web3Obj.torus\n      .initiateTopup('wyre', {\n        selectedCurrency: 'USD',\n        fiatValue: '250',\n        selectedCryptoCurrency: 'ETH'\n      })\n      .catch(err => this.console(err.message))\n  }\n\n  getPublicAddress = () => {\n    web3Obj.torus.getPublicAddress({ verifier: this.state.selectedVerifier, verifierId: this.state.verifierId, isExtended: true }).then(this.console)\n  }\n\n  onSelectedVerifierChanged = event => {\n    let placeholder = 'Enter google email'\n    switch (event.target.value) {\n      case 'google':\n        placeholder = 'Enter google email'\n        break\n      case 'reddit':\n        placeholder = 'Enter reddit username'\n        break\n      case 'discord':\n        placeholder = 'Enter discord ID'\n        break\n      default:\n        placeholder = 'Enter google email'\n        break\n    }\n    this.setState({\n      selectedVerifier: event.target.value,\n      placeholder\n    })\n  }\n\n  render() {\n    let { account, buildEnv, selectedVerifier, verifierId, placeholder, balance } = this.state\n    return (\n      <div className=\"App\">\n        {!account && (\n          <div>\n            <h3>ChainBooks</h3>\n          <form onSubmit={this.enableTorus}>\n            {/* <p>Build Environment</p>\n            <select name=\"buildEnv\" value={buildEnv} onChange={e => this.setState({ buildEnv: e.target.value })}>\n              <option value=\"production\">Production</option>\n              <option value=\"staging\">Staging</option>\n              <option value=\"testing\">Testing</option>\n              <option value=\"development\">Development</option>\n            </select> */}\n            <button className=\"button1 button2\">Login</button>\n          </form>\n          </div>\n        )}\n        {account && (\n          <div>\n            <Router>\n            <Redirect to='/homepage' />\n            <Switch>\n                        <Route exact path='/homepage' component={homepage} />\n                        \n            </Switch>\n            </Router>\n            </div>\n        )}\n      </div>\n    )\n  }\n}\n\nconst logout1 = new App();\nexport {logout1,App};\n","import React, { Component } from 'react';\r\nimport { StyleSheet } from '@react-pdf/renderer';\r\nimport Homepage from './homepage';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\nimport {  Route, Link, BrowserRouter } from \"react-router-dom\";\r\nimport './css/appButton.css';\r\n\r\nclass pdf extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { numPages: null, pageNumber: 1, urlhash:null};\r\n    pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n   // this.handleClick = this.handleClick.bind(this);\r\n  }\r\n   \r\n  // handleClick() {\r\n  //  // const history= useHistory();\r\n  //   this.myHistory.push(\"/homepage\");\r\n  // }\r\n\r\n  onDocumentLoadSuccess = ({ numPages }) => {\r\n    this.setState({ numPages });\r\n  };\r\n\r\n  goToPrevPage = () => this.setState((state) => ({ pageNumber: state.pageNumber - 1 }));\r\n\r\n  goToNextPage = () => this.setState((state) => ({ pageNumber: state.pageNumber + 1 }));\r\n \r\n  loadBlockchain(){\r\n    const urlhash=\"https://ipfs.io/ipfs/\"+(window.location.search.replace(new RegExp(\"^(?:.*[&\\\\?]\" + \r\n    encodeURIComponent(\"hash\").replace(/[\\.\\+\\*]/g, \"\\\\$&\") + \"(?:\\\\=([^&]*))?)?.*$\", \"i\"), \"$1\"))\r\n    console.log('ursl : '+urlhash);\r\n    this.setState({urlhash})\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.loadBlockchain();\r\n    window.history.replaceState({}, document.title, \"/\" + \"pdf\");\r\n  }\r\n\r\n  render() {\r\n    const { pageNumber, numPages, urlhash } = this.state;\r\n    const styles = StyleSheet.create({\r\n      page: {       \r\n        width:\"100h\"\r\n      }\r\n    });\r\n\r\n    \r\n\r\n    return (\r\n      <div>\r\n      \r\n        <div style={{ width:'100%' ,alignItems: 'center',\r\n        justifyContent: 'center', textAlign:'center'\r\n    }}>\r\n        <nav>\r\n          {pageNumber===1 ?\r\n          <button className=\"button1 button2\" disabled={false}>Prev</button> :\r\n          <button onClick={this.goToPrevPage} className=\"button1 button2\">Prev</button>  }\r\n          {pageNumber===numPages ?\r\n          <button disabled={false} className=\"button1 button2\">Next</button> :\r\n          <button onClick={this.goToNextPage} className=\"button1 button2\">Next</button>}\r\n       </nav>\r\n       <p>\r\n          Page\r\n          {pageNumber}\r\n          of\r\n          {numPages}\r\n        </p>\r\n</div>\r\n    \r\n    <div style={{ display:'flex', width:'100h' ,alignItems: 'center',\r\n        justifyContent: 'center', textAlign:'center'\r\n    }}>\r\n        \r\n         <Document\r\n            file={urlhash}\r\n            onLoadSuccess={this.onDocumentLoadSuccess}\r\n          >\r\n            <Page pageNumber={pageNumber} style={600}/>\r\n          </Document>\r\n          </div>\r\n      \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default pdf;","import {App ,logout} from './App';\nimport ipfs from './ipfs';\nimport homepage from './homepage';\nimport React from 'react';\nimport pdf from './pdf';\nimport {BrowserRouter as Router, Route, Link, Switch, Redirect} from 'react-router-dom';\n \nfunction Alpha(){\n   return(\n       <div>\n           <Router>\n               <div>\n                   \n                   <ul>\n                      {/* <li><Link to='/'>App</Link></li>\n                       <li><Link to='/ipfs'>ipfs</Link></li>\n                       <li><Link to='/homepage'>homepage</Link></li> */}\n                   </ul>\n                   <Switch>\n                   <Route exact path='/'  component={App} />\n                   <Route  path='/ipfs'  component={ipfs} />\n                   <Route  path='/homepage'  component={homepage} />\n                   <Route path='/pdf' component={pdf} />\n                   <Route component={NoMatch}/>\n                   </Switch>\n               </div>\n          \n            </Router>\n       </div>\n   )\n}\nfunction NoMatch(){\n   return(\n       <div>\n           NoMatch\n       </div>\n   )\n}\n \nexport default Alpha;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './css/index.css'\nimport Alpha from './Alpha'\n\nReactDOM.render(<Alpha />, document.getElementById('root'))\n","import Web3 from 'web3'\nimport Torus from '@toruslabs/torus-embed'\n\nconst web3Obj = {\n  web3: new Web3(),\n  torus: {},\n  setweb3: function(provider) {\n    const web3Inst = new Web3(provider)\n    web3Obj.web3 = web3Inst\n  },\n  initialize: async function(buildEnv) {\n    const torus = new Torus()\n    await torus.init({ buildEnv: buildEnv || 'production', network: { host: 'ropsten' } })\n    await torus.login()\n    web3Obj.setweb3(torus.provider)\n    web3Obj.torus = torus\n    sessionStorage.setItem('pageUsingTorus', buildEnv)\n  }\n}\nexport default web3Obj\n","import Modal from 'react-bootstrap/Modal';\nimport React, { useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport './css/buttonFix.css';\nimport Payment from './payment';\nimport './css/loader.css';\n\nfunction Example(props) {\n  const [show, setShow] = useState(false);\n  const [secondShow, setSecondShow] = useState(false);\n\n  const handleClose = () => {\n    setShow(false);\n    console.log(\"It has closed\");\n  }\n\n  const handleYes = () => {\n    setShow(false);\n    console.log(\"Inside HandleYes!\");\n    const bookId = props.data.bookId;\n    const price = props.data.price;\n    // send the ether to owner \n    Payment.getAuthorAddress(bookId, price)\n    handleSecondShow();\n    handleSecondClose();\n    // Payment.sendEth('0x3ad7074068117c29f43C8F175D5C6f10D4632B73',20);\n    // Payment.getStatus(); \n  }\n\n  const handleShow = () => setShow(true);\n\n  const handleSecondClose = () => {\n    setTimeout(() => {\n      setSecondShow(false);\n    }, 20000);\n    \n  }\n\n  const handleSecondYes = () => {\n    setSecondShow(false);\n  }\n\n  const handleSecondShow = () => {\n    setSecondShow(true);\n  }\n\n\n\n  return (\n    <>\n      <Button className=\"button\" variant=\"primary\" onClick={handleShow}>\n        Buy for {props.data.price}\n      </Button>\n      {/* {props.data.name} */}\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Confirm for the Book \"{props.data.name}\"</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>Yes, I want to buy this book written by \"{props.data.By}\" for {props.data.price} &#x20B9;</Modal.Body>\n        <Modal.Footer>\n          <Button className=\"button\" variant=\"secondary\" onClick={handleClose}>\n            Cancel\n            </Button>\n          <Button className=\"button\" variant=\"primary\" onClick={handleYes}>\n            Yes!\n            </Button>\n        </Modal.Footer>\n      </Modal>\n\n      <Modal show={secondShow} onHide={handleSecondClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Loading . . . .</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"loader\"></div>\n\n          <p>Executes two transaction, Sending the amount to Author and saving the IPFS hash in User's SmartContract.</p>\n        </Modal.Body>\n        <Modal.Footer>\n          {/* <Button className=\"button\" variant=\"secondary\" onClick={handleSecondClose}>\n                        Cancel\n            </Button>\n                    <Button className=\"button\" variant=\"primary\" onClick={handleSecondYes}>\n                        Yes!\n            </Button> */}\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n\nexport default Example;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 397;","import Web3 from 'web3'\n\nlet getWeb3 = new Promise(function(resolve, reject) {\n  // Wait for loading completion to avoid race conditions with web3 injection timing.\n  window.addEventListener('load', function() {\n    var results\n    var web3 = window.web3\n\n    // Checking if Web3 has been injected by the browser (Mist/MetaMask)\n    if (typeof web3 !== 'undefined') {\n      // Use Mist/MetaMask's provider.\n      web3 = new Web3(web3.currentProvider)\n\n      results = {\n        web3: web3\n      }\n      console.log(web3.version);\n      console.log('Injected web3 detected.');\n\n      resolve(results)\n    } else {\n      // Fallback to localhost if no web3 injection. We've configured this to\n      // use the development console's port by default.\n      var provider = new Web3.providers.HttpProvider('http://127.0.0.1:9545')\n\n      web3 = new Web3(provider)\n\n      results = {\n        web3: web3\n      }\n\n      console.log('No web3 instance injected, using Local web3.');\n\n      resolve(results)\n    }\n  })\n})\n\nexport default getWeb3\n","const IPFS = require('ipfs-api');\nconst ipfs = new IPFS({ host: 'ipfs.infura.io', port: 5001, protocol: 'https' });\n\nexport default ipfs;\n","import React, { Component } from 'react'\nimport web3Obj from './helper'\nimport Modal from './modal'\nimport getWeb3 from './utils/getWeb3'\nimport User from './contracts/User.json';\nimport Chainbooks from './contracts/Chainbooks.json';\n\n\nclass Payment extends Component {\n    constructor(props) {\n        super(props)\n        this.getUserInfo = this.getUserInfo.bind(this)\n        this.makePayment = this.makePayment.bind(this)\n        this.chainBooksInitialization = this.chainBooksInitialization.bind(this)\n        this.shareIpfs = this.shareIpfs.bind(this)\n        this.userInitialization = this.userInitialization.bind(this);\n    }\n\n\n\n    componentWillMount() {\n        console.log(\"Inside componentWillMount!\");\n        getWeb3.then(results => {\n            this.setState({ web3: web3Obj.web3 })\n            // Instantiate contract once web3 provided.\n            this.Initialize();\n            this.getUserInfo();\n        })\n            .catch(() => {\n                console.log('Error finding web3.')\n            })\n    }\n\n    // I think, Not getting used\n    Initialize() {\n        console.log(\"Inside Initialize\");\n        const userAbi = User.abi;\n        const userContractAddress = User.networks[3].address;\n        this.userInstance = new web3Obj.web3.eth.Contract(userAbi, userContractAddress);\n\n        const chainBooksAbi = Chainbooks.abi;\n        const chainBooksContractAddress = Chainbooks.networks[3].address;\n        this.chainBookInstance = new this.state.web3.eth.Contract(chainBooksAbi, chainBooksContractAddress);\n\n    }\n\n    // user smart contract initialized here\n    userInitialization() {\n        const userAbi = User.abi;\n        const userContractAddress = User.networks[3].address;\n        this.userInstance = new web3Obj.web3.eth.Contract(userAbi, userContractAddress);\n    }\n\n    // chainBook smart contract initialized here\n    chainBooksInitialization() {\n        const chainBooksAbi = Chainbooks.abi;\n        const chainBooksContractAddress = Chainbooks.networks[3].address;\n        this.chainBookInstance = new web3Obj.web3.eth.Contract(chainBooksAbi, chainBooksContractAddress);\n    }\n\n    // On click buy book, bookid and price is passed to get Author's address \n    getAuthorAddress = async (bookid, price) => {\n        this.chainBooksInitialization();\n        console.log(\"Inside getAuthorAddress with id \" + bookid);\n        await web3Obj.web3.eth.getAccounts().then(async (accounts) => {\n            await this.chainBookInstance.methods.getAuthor(bookid).call({ from: accounts[0] })\n                .then((result) => {\n                    console.log(\"Author's address has been received!\");\n                    console.log(result);\n                    this.makePayment(price, result);\n                })\n        })\n    }\n\n    // Money is sent to Author's address\n    makePayment = async (price, address) => {\n        var eth = (price * 0.000061).toFixed(4);\n        console.log(\"Inside makePayment with Eth \" + eth);\n        await web3Obj.web3.eth.getAccounts().then(async (accounts) => {\n            await web3Obj.web3.eth.sendTransaction({ from: accounts[0], to: address, value: web3Obj.web3.utils.toWei(eth) })\n                .then((result) => {\n                    console.log(JSON.stringify(result));\n                    this.shareIpfs(address);\n                })\n        })\n    }\n\n    // After the success of money transaction, Ipfs is called from the chainbook smart contract\n    shareIpfs = async (address) => {\n        console.log(\"Inside shareIpfs!\");\n        await web3Obj.web3.eth.getAccounts().then(async (accounts) => {\n        await this.chainBookInstance.methods.getIpfs(address).call({ from: accounts[0] })\n            .then((result) => {\n                console.log(\"IPFS has been received!\");\n                console.log(result);\n                //    this.makePayment(price, result);\n                this.saveIpfsToUser(result[0]);\n            })\n        })\n    }\n\n    // Ipfs is stored in the User's smart contract\n    saveIpfsToUser = async (ipfs) => {\n        this.userInitialization();\n        console.log(\"Inside saveIpfsToUser!\");\n        await web3Obj.web3.eth.getAccounts().then(async (accounts) => {\n        await this.userInstance.methods.set(ipfs).send({ from: accounts[0] })\n            .then((result) => {\n                alert(\"Book is saved in Library!\");\n                console.log(\"IPFS has been saved!\");\n                console.log(result);\n            })\n        })\n    }\n\n\n    // I think, Not getting used\n    getUserInfo = async () => {\n        const userInfo = await web3Obj.torus.getUserInfo()\n        console.log(userInfo);\n    }\n\n    // I think, Not getting used\n    sendEth = async (toaccount, value) => {\n\n        var receipt = await web3Obj.web3.eth.sendTransaction({ from: '0xa02cD3AFB5BA86996797AeDa780B6bF46fcCD43A', to: toaccount, value: web3Obj.web3.utils.toWei('0.01') })\n        alert(JSON.stringify(receipt));\n    }\n\n    // I think, Not getting used\n    getStatus = async () => {\n        console.log(\"insisde getStatus\");\n        var receipt = await web3Obj.web3.eth.getTransactionReceipt('0x24b0829cf1bc2724d85af24fe3d4da9be5b97021e340385de9aa80a046659a08');\n        alert(JSON.stringify(receipt));\n\n    }\n\n\n    render() {\n        return (\n            <div></div>\n        )\n    }\n\n}\nconst payment = new Payment();\nexport default payment;","import Modal from 'react-bootstrap/Modal';\r\nimport React, { useState } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport './css/buttonFix.css';\r\nimport Payment from './payment';\r\nimport ipfsHelper from './ipfsHelper'\r\nimport Chainbooks from './contracts/Chainbooks.json';\r\nimport web3Obj from './helper'\r\nimport axios from \"axios\";\r\nimport './css/loader.css';\r\n\r\nfunction Example() {\r\n    const [show, setShow] = useState(false);\r\n    const [secondShow, setSecondShow] = useState(false);\r\n    const [bookName, setBookName] = useState('')\r\n    const [authorName, setAuthorName] = useState('')\r\n\r\n\r\n    const handleClose = () => {\r\n        setShow(false);\r\n    }\r\n\r\n    const handleYes = () => {\r\n        setShow(false);\r\n    }\r\n\r\n    const handleShow = () => {\r\n        setShow(true);\r\n        initialize();\r\n    }\r\n\r\n    const handleSecondClose = () => {\r\n        setSecondShow(false);\r\n    }\r\n\r\n    const handleSecondYes = () => {\r\n        setSecondShow(false);\r\n    }\r\n\r\n    const handleSecondShow = () => {\r\n        setSecondShow(true);\r\n    }\r\n\r\n    const captureAuthorName = (event) => {\r\n        \r\n        let author = event.target.value;\r\n        setAuthorName(author);\r\n    }\r\n\r\n    const captureBookName = (event) => {\r\n        let book = event.target.value;        \r\n        setBookName(book);\r\n    }\r\n          \r\n   \r\n\r\n    const [buffer, setBuffer] = useState([]);\r\n    const [chainBookInstance, setChainBookInstance] = useState();\r\n    const [generatedHash, setGeneratedHash] = useState(null);\r\n\r\n   \r\n    const initialize = () => {\r\n        const chainBooksAbi = Chainbooks.abi;\r\n        const chainBooksContractAddress = Chainbooks.networks[3].address;\r\n        setChainBookInstance(new web3Obj.web3.eth.Contract(chainBooksAbi, chainBooksContractAddress))\r\n\r\n    }\r\n\r\n    const captureFile = (event) => {\r\n        event.preventDefault()\r\n        const file = event.target.files[0]\r\n        const reader = new window.FileReader()\r\n        reader.readAsArrayBuffer(file)\r\n        reader.onloadend = () => {\r\n            setBuffer(Buffer(reader.result))\r\n        }\r\n        \r\n    }\r\n\r\n    const onSubmit = async (event) => {\r\n        handleClose();\r\n        event.preventDefault()\r\n        console.log(bookName);\r\n        console.log(authorName);\r\n       await ipfsHelper.files.add(buffer, async (error, result) => {\r\n            if (error) {\r\n                console.error(error)\r\n                return\r\n            }\r\n\r\n            setGeneratedHash(result[0].hash);\r\n            const hash = result[0].hash;\r\n            console.log(\"hash is \"+ result[0].hash);\r\n            console.log(buffer);\r\n            console.log(chainBookInstance);\r\n            await web3Obj.web3.eth.getAccounts().then(async (accounts) => {\r\n                await chainBookInstance.methods.getBookId().call({ from: accounts[0] })\r\n                    .then((result) => {\r\n                        console.log(\"Book Number has been received!\" + result[0]);          \r\n                        showLoading(hash, result[0]);\r\n                    })\r\n            })\r\n        })\r\n    }\r\n\r\n    const showLoading = (hash, bookId) => {\r\n        handleYes();\r\n        handleSecondShow();\r\n        console.log(\"Inside Showloading where hash is \" + hash + \" book id is \"+bookId);\r\n      \r\n        savetoChainBook(hash, bookId);\r\n\r\n    }\r\n\r\n    const savetoChainBook = async (hash, bookId) => {\r\n        // here azure will save this info and in chainbook we will send ipfs and address\r\n        const authorAddress = randomAddress(bookId);\r\n        console.log(\"author Address is \"+ authorAddress);\r\n\r\n        await web3Obj.web3.eth.getAccounts().then(async (accounts) => {\r\n            await chainBookInstance.methods.addBook(hash, authorAddress).send({ from: accounts[0] })\r\n                .then((result) => {\r\n                    console.log(\"Book Hash has been saved on ChainBooks!\");          \r\n                    savetoAzure(bookId);\r\n                })\r\n        })\r\n    }\r\n\r\n    const savetoAzure = (bookId) => {\r\n        axios.post('http://localhost:4000/api/postChainData', {\r\n            name: bookName,\r\n            bookId: bookId,\r\n            price: '200',\r\n            By: authorName,\r\n            image: 'http://placekitten.com/g/320/500',\r\n          })\r\n          .then(function (response) {\r\n            console.log(\"Saved in Chainbook and in azure!\");\r\n            console.log(response);\r\n            handleSecondClose();\r\n            refreshPage();\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      \r\n    }\r\n\r\n    function refreshPage(){ \r\n        window.location.reload('http://localhost:3000/'); \r\n    }\r\n\r\n    const randomAddress = (bookId) => {\r\n        \r\n        const address = ['0xaAb38be47F4b96A4f118d862eE1aF7138273c1b9',\r\n                        '0xEBDfa54bb1CCB37Cd185F59d31e9E8c416b9b8Ed', \r\n                        '0x4CF0cbe6EA3DE7446820eB25Ba13dcd2d4F4d154',\r\n                        '0xad88198E7D76f8D13FDfeb13Ad61da46240c5fdD',\r\n                        '0x37AB42F500D6B52D0044B4C042d469295E59676b',\r\n                        '0x5BDFC7558fa8F9018BF4159315FE207832a2C2eC',\r\n                        '0x364c4999D9696b0A67469Ba617e7E842Fc55ccD1',\r\n                        '0x76a8EB3ca72EeD7c12d0bd570Febb9507482641d', \r\n                        '0xDE0B9bA6cE21cC98A3ab1E6ba5e8de352bAF85A8',\r\n                        '0x340905ab8f279436B297ADFc3A78B0d217B3218F',\r\n                        '0x9D3ac8868805418c674114c18904f672C39e4a1C', \r\n                        '0x9A495d478941ADc65e50405d20278B2684a02000',\r\n                        '0x9cBCbF8fd7cC8328fd73e616C4d7271f4b70e9Cb', \r\n                        '0x70c9c6d52fcEB68CdfFC38f1eA176b12A428C0A0',\r\n                        '0xA661227A7d24f1354ce6a5a045Aa4eD8dF03aa1a', \r\n                        '0x0532227D85E212C4cCd3d3024E505fCf6c651AfF',\r\n                        '0xB9c35756B6068430Ab55C8d9013621B1604b4F3b', \r\n                        '0x357035fC00E66A047b283433FDc5F2E5173607E8',\r\n                        '0x051679143dC8A82CAeb23FC985Ee21b8d06Aa2D3',\r\n                        '0xeB8E6C387F30E0ab1532d15Da0DF49C1dC273d76', \r\n                        '0x9538f0F7fA2B315d98BAF0cE3c3935dC10d7F811',\r\n                        '0xcdCb2A1f6725E2a6FFfFA1F4724077aF713d0921', \r\n                        '0x01aBF7Bb56bCED44fc1246935B5bbA1b293c53a7',\r\n                        '0x0b92552F45eca86cB20C5767F2DC8876a2F16A87', \r\n                        '0xA5FdE297cD63FD7aBaCfcd4a92D15338f7d73a53',\r\n                        '0xD7145e38e756643fa82C86d936A42f132135BEEf', \r\n                        '0x638FD8aB0C0B84B11a9a892996B376398C4bf182'                        \r\n    ]\r\n    return address[bookId];\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <Button className=\"button\" variant=\"primary\" onClick={handleShow}>\r\n                Add Book\r\n            </Button>\r\n            {/* {props.data.name} */}\r\n            <Modal show={show} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Add Book </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <div>\r\n                        <main className=\"container\">\r\n                            <div className=\"pure-g\">\r\n                                <div className=\"pure-u-1-1\">\r\n                                    <p>This pdf is stored on IPFS & The Ethereum Blockchain!</p>\r\n                                    <form onSubmit={onSubmit} >\r\n                                        <input type='file' onChange={captureFile} /> <br /> <br />\r\n                                        <label>Book Name</label>  <br/>\r\n                                        <input type='text' name=\"bookName\" onChange={captureBookName} placeholder='Book Name' /> <br />  <br />\r\n                                        <label>Author Name</label> <br/>\r\n                                        <input type=\"text\" name=\"authorName\" onChange={captureAuthorName} placeholder='Author Name' /> <br /> <br/>\r\n                                        <input type='submit' />\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </main>\r\n                    </div>\r\n                </Modal.Body>\r\n                {/* <Modal.Footer>\r\n                    <Button className=\"button\" variant=\"secondary\" onClick={handleClose}>\r\n                        Cancel\r\n            </Button>\r\n                    <Button className=\"button\" variant=\"primary\" onClick={handleYes}>\r\n                        Yes!\r\n            </Button>\r\n                </Modal.Footer> */}\r\n            </Modal>\r\n\r\n            <Modal show={secondShow} onHide={handleSecondClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Loading . . . .</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                <div className=\"loader\"></div>\r\n                    \r\n                    <p>This flow first generate iphs Hash. It gets save in Smart Contract of User. BookId is save in azure db.\r\n\r\n                        <br/>\r\n                    After Book Upload it goes for verification and Author is contacted for confirmation, author's address and book's price. \r\n                    Random address is getting used for now. \r\n\r\n                    </p>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    {/* <Button className=\"button\" variant=\"secondary\" onClick={handleSecondClose}>\r\n                        Cancel\r\n            </Button>\r\n                    <Button className=\"button\" variant=\"primary\" onClick={handleSecondYes}>\r\n                        Yes!\r\n            </Button> */}\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Example;\r\n\r\n\r\n","import React, { Component } from 'react'\nimport SimpleStorageContract from './contracts/SimpleStorage.json'\nimport User from './contracts/User.json';\nimport getWeb3 from './utils/getWeb3'\nimport ipfsHelper from './ipfsHelper'\nimport web3Obj from './helper'\n\n\n// import './css/oswald.css'\n// import './css/open-sans.css'\n// import './css/pure-min.css'\nimport './css/ipfs.css'\n\nclass Ipfs extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      ipfsHash: '',\n      web3: null,\n      buffer: null,\n      account: null\n    }\n    this.captureFile = this.captureFile.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.UsergetContract = this.UsergetContract.bind(this);\n    this.UserContract = this.UserContract.bind(this);\n  }\n\n  componentWillMount() {\n    // Get network provider and web3 instance.\n    // See utils/getWeb3 for more info\n\n    getWeb3\n    .then(results => {\n      this.setState({\n        web3: web3Obj.web3\n        })\n\n      // Instantiate contract once web3 provided.\n      // this.instantiateContract()\n       this.Initialize();\n    })\n    .catch(() => {\n      console.log('Error finding web3.')\n    })\n  }\n\n  // this function is just to check the functionality \n  getUserInfo = async () => {\n    const userInfo = await web3Obj.torus.getUserInfo()\n\n    console.log(userInfo);\n  }\n\n\n  // testing the deployed user smart contract\n  instantiateContract() {\n    /*\n     * SMART CONTRACT EXAMPLE\n     *\n     * Normally these functions would be called in the context of a\n     * state management library, but for convenience I've placed them here.\n     */\n\n    const contract = require('truffle-contract')\n    const simpleStorage = contract(SimpleStorageContract)\n    simpleStorage.setProvider(this.state.web3.currentProvider)\n\n    // Get accounts.\n    // console.log(\"web version \"+ this.state.web3.version);\n    this.state.web3.eth.getAccounts((error, accounts) => {\n      simpleStorage.deployed().then((instance) => {\n        this.simpleStorageInstance = instance\n        this.setState({ account: accounts[0] })\n        // Get the value from the contract to prove it worked.\n        return this.simpleStorageInstance.get.call(accounts[0])\n      }).then((ipfsHash) => {\n        // Update state with the result.\n        return this.setState({ ipfsHash })\n      })\n    })\n  }\n\n  Initialize(){\n    const abi = User.abi;\n    const contractAddress = User.networks[3].address; \n    this.userInstance = new this.state.web3.eth.Contract(abi,contractAddress);\n    this.UserContract();\n  }\n\n  UserContract() {\n    this.state.web3.eth.getAccounts().then((e)=>{\n      console.log(\"e0 is \"+ e[0]);\n      this.userInstance.methods.set('testString3').send({from: e[0]}).then((r)=> {\n        console.log(r);      \n      })\n    })\n  }\n\n  UsergetContract(){\n    console.log(\"Getting called\");\n    this.userInstance.methods.get().call({from: '0xa02cd3afb5ba86996797aeda780b6bf46fccd43a'}).then((ipfsHash) => {\n      // Update state with the result.\n      console.log(\"inside 2\");\n     console.log(ipfsHash);\n    })\n  }\n\n  captureFile(event) {\n    event.preventDefault()\n    const file = event.target.files[0]\n    const reader = new window.FileReader()\n    reader.readAsArrayBuffer(file)\n    reader.onloadend = () => {\n      this.setState({ buffer: Buffer(reader.result) })\n      console.log('buffer', this.state.buffer)\n    }\n  }\n\n  onSubmit(event) {\n    event.preventDefault()\n    ipfsHelper.files.add(this.state.buffer, (error, result) => {\n      if(error) {\n        console.error(error)\n        return\n      }\n      this.simpleStorageInstance.set(result[0].hash, { from: this.state.account }).then((r) => {\n        console.log('ifpsHash', result[0].hash);\n        return  this.setState({ ipfsHash: result[0].hash })\n        \n      })\n    })\n  }\n\n  render() {\n    return (\n      \n      <div className=\"App\">\n        <nav className=\"navbar pure-menu pure-menu-horizontal\">\n          <a href=\"#\" className=\"pure-menu-heading pure-menu-link\">IPFS File Upload DApp</a>\n        </nav>\n        \n        <main className=\"container\">\n          <div className=\"pure-g\">\n            <div className=\"pure-u-1-1\">\n              <h1>Your Image</h1>\n              <p>This image is stored on IPFS & The Ethereum Blockchain!</p>\n              <img src={`https://ipfs.io/ipfs/${this.state.ipfsHash}`} alt=\"\"/>\n              <h2>Upload Image</h2>\n              <button onClick={this.UsergetContract}>Check</button>\n              <form onSubmit={this.onSubmit} >\n                <input type='file' onChange={this.captureFile} />\n                <input type='submit' />\n              </form>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default Ipfs\n"],"sourceRoot":""}